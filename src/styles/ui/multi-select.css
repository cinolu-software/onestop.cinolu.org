@layer utilities {
  .ui-multi-select-wrapper {
    @apply relative w-full;
  }

  .ui-multi-select-label {
    @apply block text-sm font-semibold text-slate-700 mb-1.5 leading-5;
  }

  .ui-multi-select-content {
    @apply flex-1 min-w-0;
  }

  .ui-multi-select-trigger {
    @apply w-full px-3.5 py-2.5 text-[15px] leading-6 text-slate-900 bg-white border border-slate-300 rounded-xl font-[inherit] transition-all duration-300 ease-in-out shadow-sm cursor-pointer min-h-[42px] flex items-center justify-between relative;
    padding-right: 2.75rem;
  }

  .ui-multi-select-trigger:hover:not(:disabled):not([class*='bg-gray-100']) {
    @apply border-slate-400 shadow-md bg-slate-50/50;
  }

  .ui-multi-select-trigger:focus,
  .ui-multi-select-trigger:focus-visible {
    @apply outline-none border-primary-500 ring-2 ring-offset-1 ring-primary-200/50 shadow-md bg-white;
  }

  .ui-multi-select-trigger[class*='bg-gray-100'],
  .ui-multi-select-trigger:disabled,
  .ui-multi-select-trigger-disabled {
    @apply bg-slate-50 border-slate-200 cursor-not-allowed opacity-60 shadow-none;
  }

  .ui-multi-select-placeholder {
    @apply text-slate-400;
  }

  .ui-multi-select-value-comma {
    @apply text-[15px] text-slate-900;
  }

  .ui-multi-select-chips {
    @apply flex flex-wrap gap-1.5;
  }

  .ui-multi-select-chip {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium bg-primary-50 text-primary-700 rounded-full transition-all duration-200 hover:bg-primary-100;
    border: 1px solid rgba(59, 130, 246, 0.15);
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  }

  .ui-multi-select-chip-text {
    @apply leading-none;
  }

  .ui-multi-select-chip-remove {
    @apply ml-0.5 w-4 h-4 flex items-center justify-center rounded-full hover:bg-primary-200/70 transition-all duration-150 text-primary-600 hover:text-primary-800 cursor-pointer p-0 border-none bg-transparent shrink-0;
  }

  .ui-multi-select-chip-remove:hover {
    @apply bg-primary-200/70 scale-110;
  }

  .ui-multi-select-chip-remove svg {
    @apply w-3 h-3;
  }

  .ui-multi-select-icon {
    @apply absolute right-3.5 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400 transition-all duration-300 flex items-center justify-center;
    width: 20px;
    height: 20px;
  }

  .ui-multi-select-icon svg {
    @apply w-5 h-5;
  }

  .ui-multi-select-icon.rotate-180 {
    @apply text-primary-600;
    transform: translateY(-50%) rotate(180deg);
  }

  .ui-multi-select-trigger:hover:not(:disabled):not([class*='bg-gray-100']) .ui-multi-select-icon {
    @apply text-primary-600;
  }

  .ui-multi-select-trigger:focus .ui-multi-select-icon,
  .ui-multi-select-trigger:focus-visible .ui-multi-select-icon {
    @apply text-primary-600;
    transform: translateY(-50%) scale(1.05);
  }

  .ui-multi-select-panel {
    @apply absolute z-50 w-full mt-2 bg-white border border-slate-200/80 rounded-xl shadow-2xl max-h-60 overflow-auto backdrop-blur-sm;
    animation: ui-dropdown-fade-in 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }

  .ui-multi-select-option {
    @apply px-3 py-2.5 cursor-pointer hover:bg-slate-50 flex items-center gap-2.5 transition-all duration-200 border-b border-slate-50 last:border-b-0;
  }

  .ui-multi-select-option-selected {
    @apply bg-primary-50 hover:bg-primary-100;
  }

  .ui-multi-select-option-disabled {
    @apply opacity-50 cursor-not-allowed hover:bg-white;
  }

  .ui-multi-select-checkbox {
    @apply w-4 h-4 rounded-md border-2 border-slate-300 text-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-0 cursor-pointer transition-all duration-200;
    accent-color: #3b82f6;
  }

  .ui-multi-select-checkbox:checked {
    @apply bg-primary-600 border-primary-600;
  }

  .ui-multi-select-checkbox:hover:not(:disabled) {
    @apply border-primary-400;
  }

  .ui-multi-select-checkbox:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  .ui-multi-select-option-label {
    @apply text-[15px] text-slate-900 select-none;
  }

  .ui-multi-select-empty {
    @apply px-3 py-4 text-sm text-slate-500 text-center;
  }

  .ui-multi-select-trigger[class*='border-red-500'] {
    @apply border-red-400 bg-red-50/50;
  }

  .ui-multi-select-trigger[class*='border-red-500']:hover:not(:disabled) {
    @apply border-red-500 bg-red-50;
  }

  .ui-multi-select-trigger[class*='border-red-500']:focus {
    @apply border-red-500 ring-2 ring-offset-1 ring-red-200/50 shadow-md;
  }

  .ui-multi-select-trigger[class*='border-red-500'] .ui-multi-select-icon {
    color: #ef4444;
  }
}
