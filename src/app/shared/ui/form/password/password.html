<div class="space-y-2">
  @if (label()) {
  <label [for]="id()" class="block text-sm font-semibold text-gray-700"> {{ label() }} </label>
  }
  <div class="relative">
    <input
      [type]="isMasked() ? 'password' : 'text'"
      [placeholder]="placeholder()"
      [disabled]="disabled()"
      [id]="id()"
      [autocomplete]="'off'"
      [class]="inputClasses()"
      [value]="value"
      (input)="onInput($event)"
      (blur)="onTouched(); blurred.emit($event)"
      (focus)="focused.emit($event)" />
    <button
      type="button"
      (click)="toggleMask()"
      [disabled]="disabled()"
      class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors rounded p-1"
      [attr.aria-label]="isMasked() ? 'Show password' : 'Hide password'">
      @if (isMasked()) {
      <i-lucide [name]="icons.Eye" class="size-5" />
      } @else {
      <i-lucide [name]="icons.EyeOff" class="size-5" />
      }
    </button>
  </div>
</div>
