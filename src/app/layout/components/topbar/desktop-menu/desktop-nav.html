<div class="hidden lg:flex justify-end">
  @if (user(); as user) {
  <div class="relative group">
    <button
      class="group flex items-center gap-2.5 px-3 py-2 rounded-xl hover:bg-gray-50 transition-all duration-200">
      <ui-avatar [image]="user | apiIMG : 'user'" [size]="50" [label]="user.name" />

      <div class="flex items-center gap-1.5">
        <span class="font-semibold text-gray-800 text-sm max-w-[140px] truncate">
          {{ user.name }}
        </span>
        <i-lucide
          [name]="icons.ChevronDown"
          class="size-4 text-gray-500 transition-transform duration-200 group-hover:rotate-180" />
      </div>
    </button>
    <a
      [routerLink]="'/account'"
      class="invisible absolute right-0 top-full mt-2 w-52 rounded-xl bg-white border border-gray-100 shadow-lg opacity-0 transition-all duration-200 group-hover:visible group-hover:opacity-100 group-hover:translate-y-0 translate-y-2 overflow-hidden">
      <div class="px-4 py-3 border-b border-gray-100 bg-gray-50/50">
        <p class="text-sm font-semibold text-gray-900 truncate">{{ user.name }}</p>
        <p class="text-xs text-gray-500 truncate mt-0.5">{{ user.email }}</p>
      </div>
      <div class="py-2">
        <button
          class="w-full flex items-center gap-2.5 px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-primary-50 hover:text-primary-700 transition-colors duration-150"
          (click)="handleSignOut()">
          <i-lucide [name]="icons.LogOut" class="size-4" />
          <span>Se dÃ©connecter</span>
        </button>
      </div>
    </a>
  </div>
  }
</div>
